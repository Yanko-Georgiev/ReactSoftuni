{"ast":null,"code":"var _jsxFileName = \"/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/components/catalog/MovieDetails.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { MovieContext } from '../../contexts/MovieContext';\nimport * as movieService from '../../services/movieService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MovieDetails = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    fetchMovieDetails,\n    selectMovie,\n    movieRemove\n  } = useContext(MovieContext);\n  const {\n    movieId\n  } = useParams();\n  const currentMovie = selectMovie(movieId);\n  useEffect(() => {\n    (async () => {\n      const movieDetails = await movieService.getOne(movieId);\n      console.log(movieDetails);\n      fetchMovieDetails(movieId, { ...movieDetails\n      });\n    })();\n  }, []);\n\n  const movieDeleteHandler = () => {\n    const confirmation = window.confirm('Are you sure you want to delete this game?');\n\n    if (confirmation) {\n      movieService.remove(movieId).then(() => {\n        movieRemove(movieId);\n        navigate('/catalog');\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"details_card\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: currentMovie.img\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: currentMovie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 21\n      }, this), currentMovie.description]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: e => {\n        e.preventDefault();\n        navigate(`/details/${movieId}/edit`);\n      },\n      className: \"btn\",\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: movieDeleteHandler,\n      className: \"btn\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MovieDetails, \"XndIzGs7cI+gYSTE7N8N/kGlK/U=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["useEffect","useState","useContext","useParams","Link","useNavigate","MovieContext","movieService","MovieDetails","navigate","fetchMovieDetails","selectMovie","movieRemove","movieId","currentMovie","movieDetails","getOne","console","log","movieDeleteHandler","confirmation","window","confirm","remove","then","img","title","description","e","preventDefault"],"sources":["/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/components/catalog/MovieDetails.js"],"sourcesContent":["\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { MovieContext } from '../../contexts/MovieContext';\n\nimport * as movieService from '../../services/movieService';\n\nexport const MovieDetails = () => {\n    const navigate = useNavigate();\n    const { fetchMovieDetails, selectMovie, movieRemove } = useContext(MovieContext);\n    const { movieId } = useParams();\n\n    const currentMovie = selectMovie(movieId);\n\n    useEffect(() => {\n        (async () => {\n            const movieDetails = await movieService.getOne(movieId);\n            console.log(movieDetails);\n        \n\n            fetchMovieDetails(movieId, { ...movieDetails});\n        })();\n    }, [])\n\n\n    const movieDeleteHandler = () => {\n        const confirmation = window.confirm('Are you sure you want to delete this game?');\n\n        if (confirmation) {\n            movieService.remove(movieId)\n                .then(() => {\n                    movieRemove(movieId);\n                    navigate('/catalog');\n                })\n        }\n    }\n\n    return (\n        <section className='details_card'>\n                <img src={currentMovie.img} />\n                <div>\n                    <h1>{currentMovie.title}</h1>\n                    {currentMovie.description}   \n                </div>\n                    <button onClick={(e)=>{e.preventDefault();navigate((`/details/${movieId}/edit`))}} className=\"btn\">Edit</button>\n                    <button onClick={movieDeleteHandler} className=\"btn\">\n                        Delete\n                    </button>\n        </section>\n    );\n};\n"],"mappings":";;;AACA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,WAA1B,QAA6C,kBAA7C;AACA,SAASC,YAAT,QAA6B,6BAA7B;AAEA,OAAO,KAAKC,YAAZ,MAA8B,6BAA9B;;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM;EAAA;;EAC9B,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;EACA,MAAM;IAAEK,iBAAF;IAAqBC,WAArB;IAAkCC;EAAlC,IAAkDV,UAAU,CAACI,YAAD,CAAlE;EACA,MAAM;IAAEO;EAAF,IAAcV,SAAS,EAA7B;EAEA,MAAMW,YAAY,GAAGH,WAAW,CAACE,OAAD,CAAhC;EAEAb,SAAS,CAAC,MAAM;IACZ,CAAC,YAAY;MACT,MAAMe,YAAY,GAAG,MAAMR,YAAY,CAACS,MAAb,CAAoBH,OAApB,CAA3B;MACAI,OAAO,CAACC,GAAR,CAAYH,YAAZ;MAGAL,iBAAiB,CAACG,OAAD,EAAU,EAAE,GAAGE;MAAL,CAAV,CAAjB;IACH,CAND;EAOH,CARQ,EAQN,EARM,CAAT;;EAWA,MAAMI,kBAAkB,GAAG,MAAM;IAC7B,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAP,CAAe,4CAAf,CAArB;;IAEA,IAAIF,YAAJ,EAAkB;MACdb,YAAY,CAACgB,MAAb,CAAoBV,OAApB,EACKW,IADL,CACU,MAAM;QACRZ,WAAW,CAACC,OAAD,CAAX;QACAJ,QAAQ,CAAC,UAAD,CAAR;MACH,CAJL;IAKH;EACJ,CAVD;;EAYA,oBACI;IAAS,SAAS,EAAC,cAAnB;IAAA,wBACQ;MAAK,GAAG,EAAEK,YAAY,CAACW;IAAvB;MAAA;MAAA;MAAA;IAAA,QADR,eAEQ;MAAA,wBACI;QAAA,UAAKX,YAAY,CAACY;MAAlB;QAAA;QAAA;QAAA;MAAA,QADJ,EAEKZ,YAAY,CAACa,WAFlB;IAAA;MAAA;MAAA;MAAA;IAAA,QAFR,eAMY;MAAQ,OAAO,EAAGC,CAAD,IAAK;QAACA,CAAC,CAACC,cAAF;QAAmBpB,QAAQ,CAAG,YAAWI,OAAQ,OAAtB,CAAR;MAAuC,CAAjF;MAAmF,SAAS,EAAC,KAA7F;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QANZ,eAOY;MAAQ,OAAO,EAAEM,kBAAjB;MAAqC,SAAS,EAAC,KAA/C;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPZ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAaH,CA3CM;;GAAMX,Y;UACQH,W,EAEGF,S;;;KAHXK,Y"},"metadata":{},"sourceType":"module"}