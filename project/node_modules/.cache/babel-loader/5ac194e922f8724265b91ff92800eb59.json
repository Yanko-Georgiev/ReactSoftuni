{"ast":null,"code":"var _jsxFileName = \"/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/components/catalog/MovieDetails.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { MovieContext } from '../../contexts/MovieContext';\nimport * as movieService from '../../services/movieService';\nimport { Footer } from '../Footer';\nimport { Header } from '../Header';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MovieDetails = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const {\n    fetchMovieDetails,\n    selectMovie,\n    movieRemove\n  } = useContext(MovieContext);\n  const {\n    movieId\n  } = useParams();\n  const currentMovie = selectMovie(movieId);\n  useEffect(() => {\n    (async () => {\n      const movieDetails = await movieService.getOne(movieId);\n      console.log(movieDetails);\n      fetchMovieDetails(movieId, { ...movieDetails\n      });\n    })();\n  }, []);\n\n  const movieDeleteHandler = () => {\n    const confirmation = window.confirm('Are you sure you want to delete this game?');\n\n    if (confirmation) {\n      movieService.remove(movieId).then(() => {\n        movieRemove(movieId);\n        navigate('/catalog');\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"details_card\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: currentMovie.img\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: currentMovie.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: currentMovie.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          navigate(`/details/${movieId}/edit`);\n        },\n        className: \"btn\",\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: movieDeleteHandler,\n        className: \"btn\",\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => {\n          e.preventDefault();\n          likes++;\n          e.target.disable = true;\n        },\n        className: \"btn\",\n        children: [\"Like\", /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fa-solid fa-heart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 113\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Likes: \", likes]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MovieDetails, \"XndIzGs7cI+gYSTE7N8N/kGlK/U=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["useEffect","useState","useContext","useParams","Link","useNavigate","MovieContext","movieService","Footer","Header","MovieDetails","navigate","fetchMovieDetails","selectMovie","movieRemove","movieId","currentMovie","movieDetails","getOne","console","log","movieDeleteHandler","confirmation","window","confirm","remove","then","img","title","description","e","preventDefault","likes","target","disable"],"sources":["/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/components/catalog/MovieDetails.js"],"sourcesContent":["\nimport { useEffect, useState, useContext } from 'react';\nimport { useParams, Link, useNavigate } from 'react-router-dom';\nimport { MovieContext } from '../../contexts/MovieContext';\n\nimport * as movieService from '../../services/movieService';\nimport { Footer } from '../Footer';\nimport { Header } from '../Header';\n\nexport const MovieDetails = () => {\n    const navigate = useNavigate();\n    const { fetchMovieDetails, selectMovie, movieRemove } = useContext(MovieContext);\n    const { movieId } = useParams();\n\n    const currentMovie = selectMovie(movieId);\n\n    useEffect(() => {\n        (async () => {\n            const movieDetails = await movieService.getOne(movieId);\n            console.log(movieDetails);\n        \n\n            fetchMovieDetails(movieId, { ...movieDetails});\n        })();\n    }, [])\n\n\n    const movieDeleteHandler = () => {\n        const confirmation = window.confirm('Are you sure you want to delete this game?');\n\n        if (confirmation) {\n            movieService.remove(movieId)\n                .then(() => {\n                    movieRemove(movieId);\n                    navigate('/catalog');\n                })\n        }\n    }\n    return (\n        <>\n        <Header />\n        <section className='details_card'>\n                <img src={currentMovie.img} />\n                <h1>{currentMovie.title}</h1>\n                <p>{currentMovie.description}</p>   \n                <button onClick={(e)=>{e.preventDefault();navigate((`/details/${movieId}/edit`))}} className=\"btn\">Edit</button>\n                <button onClick={movieDeleteHandler} className=\"btn\">Delete</button>\n                <button onClick={(e)=>{e.preventDefault(); likes++; e.target.disable=true}} className=\"btn\">Like<i class=\"fa-solid fa-heart\"></i></button>\n                <p>Likes: {likes}</p>\n        </section>\n        <Footer />\n        </>\n    );\n};\n"],"mappings":";;;AACA,SAASA,SAAT,EAAoBC,QAApB,EAA8BC,UAA9B,QAAgD,OAAhD;AACA,SAASC,SAAT,EAAoBC,IAApB,EAA0BC,WAA1B,QAA6C,kBAA7C;AACA,SAASC,YAAT,QAA6B,6BAA7B;AAEA,OAAO,KAAKC,YAAZ,MAA8B,6BAA9B;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,MAAT,QAAuB,WAAvB;;;AAEA,OAAO,MAAMC,YAAY,GAAG,MAAM;EAAA;;EAC9B,MAAMC,QAAQ,GAAGN,WAAW,EAA5B;EACA,MAAM;IAAEO,iBAAF;IAAqBC,WAArB;IAAkCC;EAAlC,IAAkDZ,UAAU,CAACI,YAAD,CAAlE;EACA,MAAM;IAAES;EAAF,IAAcZ,SAAS,EAA7B;EAEA,MAAMa,YAAY,GAAGH,WAAW,CAACE,OAAD,CAAhC;EAEAf,SAAS,CAAC,MAAM;IACZ,CAAC,YAAY;MACT,MAAMiB,YAAY,GAAG,MAAMV,YAAY,CAACW,MAAb,CAAoBH,OAApB,CAA3B;MACAI,OAAO,CAACC,GAAR,CAAYH,YAAZ;MAGAL,iBAAiB,CAACG,OAAD,EAAU,EAAE,GAAGE;MAAL,CAAV,CAAjB;IACH,CAND;EAOH,CARQ,EAQN,EARM,CAAT;;EAWA,MAAMI,kBAAkB,GAAG,MAAM;IAC7B,MAAMC,YAAY,GAAGC,MAAM,CAACC,OAAP,CAAe,4CAAf,CAArB;;IAEA,IAAIF,YAAJ,EAAkB;MACdf,YAAY,CAACkB,MAAb,CAAoBV,OAApB,EACKW,IADL,CACU,MAAM;QACRZ,WAAW,CAACC,OAAD,CAAX;QACAJ,QAAQ,CAAC,UAAD,CAAR;MACH,CAJL;IAKH;EACJ,CAVD;;EAWA,oBACI;IAAA,wBACA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAS,SAAS,EAAC,cAAnB;MAAA,wBACQ;QAAK,GAAG,EAAEK,YAAY,CAACW;MAAvB;QAAA;QAAA;QAAA;MAAA,QADR,eAEQ;QAAA,UAAKX,YAAY,CAACY;MAAlB;QAAA;QAAA;QAAA;MAAA,QAFR,eAGQ;QAAA,UAAIZ,YAAY,CAACa;MAAjB;QAAA;QAAA;QAAA;MAAA,QAHR,eAIQ;QAAQ,OAAO,EAAGC,CAAD,IAAK;UAACA,CAAC,CAACC,cAAF;UAAmBpB,QAAQ,CAAG,YAAWI,OAAQ,OAAtB,CAAR;QAAuC,CAAjF;QAAmF,SAAS,EAAC,KAA7F;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJR,eAKQ;QAAQ,OAAO,EAAEM,kBAAjB;QAAqC,SAAS,EAAC,KAA/C;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALR,eAMQ;QAAQ,OAAO,EAAGS,CAAD,IAAK;UAACA,CAAC,CAACC,cAAF;UAAoBC,KAAK;UAAIF,CAAC,CAACG,MAAF,CAASC,OAAT,GAAiB,IAAjB;QAAsB,CAA1E;QAA4E,SAAS,EAAC,KAAtF;QAAA,gCAAgG;UAAG,KAAK,EAAC;QAAT;UAAA;UAAA;UAAA;QAAA,QAAhG;MAAA;QAAA;QAAA;QAAA;MAAA,QANR,eAOQ;QAAA,sBAAWF,KAAX;MAAA;QAAA;QAAA;QAAA;MAAA,QAPR;IAAA;MAAA;MAAA;MAAA;IAAA,QAFA,eAWA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAXA;EAAA,gBADJ;AAeH,CA5CM;;GAAMtB,Y;UACQL,W,EAEGF,S;;;KAHXO,Y"},"metadata":{},"sourceType":"module"}