{"ast":null,"code":"var _jsxFileName = \"/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/components/news/EditNews.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from 'react-router-dom';\nimport * as newsService from '../../services/newsService';\nimport { NewsContext } from \"../../contexts/NewsContext\";\nimport { Header } from \"../Header\";\nimport { Footer } from \"../Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const EditNews = () => {\n  _s();\n\n  const [currentNews, setCurrentNews] = useState({});\n  const {\n    newsEdit\n  } = useContext(NewsContext);\n  const {\n    newsId\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    document.getElementById('news').classList.add('active');\n  }, []);\n  useEffect(() => {\n    newsService.getOne(newsId).then(newsData => {\n      setCurrentNews(newsData);\n    });\n  }, []);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    const newsData = Object.fromEntries(new FormData(e.target));\n    newsService.edit(newsId, newsData).then(result => {\n      newsEdit(newsId, result);\n      navigate(`/news`);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      id: \"edit-page\",\n      className: \"auth\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"edit\",\n        onSubmit: onSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Edit News\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"title\",\n            children: \"News title:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"title\",\n            name: \"title\",\n            defaultValue: currentNews.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"img\",\n            children: \"Image:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"img\",\n            name: \"img\",\n            defaultValue: currentNews.img\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"description\",\n            children: \"News text:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"description\",\n            id: \"description\",\n            defaultValue: currentNews.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"btn\",\n            type: \"submit\",\n            value: \"Edit News\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.preventDefault();\n              navigate(`/news`);\n            },\n            className: \"btn\",\n            children: \"Go back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(EditNews, \"MIe/cV2HBt2dgugMlgyY825AsgM=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = EditNews;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditNews\");","map":{"version":3,"names":["useContext","useEffect","useState","useParams","useNavigate","newsService","NewsContext","Header","Footer","EditNews","currentNews","setCurrentNews","newsEdit","newsId","navigate","document","getElementById","classList","add","getOne","then","newsData","onSubmit","e","preventDefault","Object","fromEntries","FormData","target","edit","result","title","img","description"],"sources":["/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/components/news/EditNews.js"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from 'react-router-dom';\n\nimport * as newsService from '../../services/newsService';\nimport { NewsContext } from \"../../contexts/NewsContext\";\nimport { Header } from \"../Header\";\nimport { Footer } from \"../Footer\";\n\nexport const EditNews = () => {\n    const [currentNews, setCurrentNews] = useState({});\n    const { newsEdit } = useContext(NewsContext);\n    const { newsId } = useParams();\n    const navigate = useNavigate();\n    useEffect(()=>{document.getElementById('news').classList.add('active')},[])\n\n    useEffect(() => {\n        newsService.getOne(newsId)\n            .then(newsData => {\n                setCurrentNews(newsData);\n            })\n    }, [])\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        const newsData = Object.fromEntries(new FormData(e.target));\n\n        newsService.edit(newsId, newsData)\n            .then(result => {\n                newsEdit(newsId, result);\n                navigate(`/news`)\n            });\n    };\n\n    return (\n        <>\n        <Header />\n        <section id=\"edit-page\" className=\"auth\">\n            <form id=\"edit\" onSubmit={onSubmit}>\n                <div className=\"container\">\n                    <h1>Edit News</h1>\n                    <label htmlFor=\"title\">News title:</label>\n                    <input type=\"text\" id=\"title\" name=\"title\" defaultValue={currentNews.title} />\n                    \n                    <label htmlFor=\"img\">Image:</label>\n                    <input type=\"text\" id=\"img\" name=\"img\" defaultValue={currentNews.img} />\n                    <label htmlFor=\"description\">News text:</label>\n                    <textarea name=\"description\" id=\"description\" defaultValue={currentNews.description} />\n                    <input className=\"btn\" type=\"submit\" value=\"Edit News\" />\n                    <button onClick={(e)=>{e.preventDefault();navigate((`/news`))}} className=\"btn\">Go back</button>\n                </div>\n            </form>\n        </section>\n        <Footer />\n        </>\n    );\n}\n"],"mappings":";;;AAAA,SAASA,UAAT,EAAqBC,SAArB,EAAgCC,QAAhC,QAAgD,OAAhD;AACA,SAASC,SAAT,EAAoBC,WAApB,QAAuC,kBAAvC;AAEA,OAAO,KAAKC,WAAZ,MAA6B,4BAA7B;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,MAAT,QAAuB,WAAvB;;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAC1B,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM;IAAEU;EAAF,IAAeZ,UAAU,CAACM,WAAD,CAA/B;EACA,MAAM;IAAEO;EAAF,IAAaV,SAAS,EAA5B;EACA,MAAMW,QAAQ,GAAGV,WAAW,EAA5B;EACAH,SAAS,CAAC,MAAI;IAACc,QAAQ,CAACC,cAAT,CAAwB,MAAxB,EAAgCC,SAAhC,CAA0CC,GAA1C,CAA8C,QAA9C;EAAwD,CAA9D,EAA+D,EAA/D,CAAT;EAEAjB,SAAS,CAAC,MAAM;IACZI,WAAW,CAACc,MAAZ,CAAmBN,MAAnB,EACKO,IADL,CACUC,QAAQ,IAAI;MACdV,cAAc,CAACU,QAAD,CAAd;IACH,CAHL;EAIH,CALQ,EAKN,EALM,CAAT;;EAOA,MAAMC,QAAQ,GAAIC,CAAD,IAAO;IACpBA,CAAC,CAACC,cAAF;IAEA,MAAMH,QAAQ,GAAGI,MAAM,CAACC,WAAP,CAAmB,IAAIC,QAAJ,CAAaJ,CAAC,CAACK,MAAf,CAAnB,CAAjB;IAEAvB,WAAW,CAACwB,IAAZ,CAAiBhB,MAAjB,EAAyBQ,QAAzB,EACKD,IADL,CACUU,MAAM,IAAI;MACZlB,QAAQ,CAACC,MAAD,EAASiB,MAAT,CAAR;MACAhB,QAAQ,CAAE,OAAF,CAAR;IACH,CAJL;EAKH,CAVD;;EAYA,oBACI;IAAA,wBACA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAS,EAAE,EAAC,WAAZ;MAAwB,SAAS,EAAC,MAAlC;MAAA,uBACI;QAAM,EAAE,EAAC,MAAT;QAAgB,QAAQ,EAAEQ,QAA1B;QAAA,uBACI;UAAK,SAAS,EAAC,WAAf;UAAA,wBACI;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAEI;YAAO,OAAO,EAAC,OAAf;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAFJ,eAGI;YAAO,IAAI,EAAC,MAAZ;YAAmB,EAAE,EAAC,OAAtB;YAA8B,IAAI,EAAC,OAAnC;YAA2C,YAAY,EAAEZ,WAAW,CAACqB;UAArE;YAAA;YAAA;YAAA;UAAA,QAHJ,eAKI;YAAO,OAAO,EAAC,KAAf;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QALJ,eAMI;YAAO,IAAI,EAAC,MAAZ;YAAmB,EAAE,EAAC,KAAtB;YAA4B,IAAI,EAAC,KAAjC;YAAuC,YAAY,EAAErB,WAAW,CAACsB;UAAjE;YAAA;YAAA;YAAA;UAAA,QANJ,eAOI;YAAO,OAAO,EAAC,aAAf;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAPJ,eAQI;YAAU,IAAI,EAAC,aAAf;YAA6B,EAAE,EAAC,aAAhC;YAA8C,YAAY,EAAEtB,WAAW,CAACuB;UAAxE;YAAA;YAAA;YAAA;UAAA,QARJ,eASI;YAAO,SAAS,EAAC,KAAjB;YAAuB,IAAI,EAAC,QAA5B;YAAqC,KAAK,EAAC;UAA3C;YAAA;YAAA;YAAA;UAAA,QATJ,eAUI;YAAQ,OAAO,EAAGV,CAAD,IAAK;cAACA,CAAC,CAACC,cAAF;cAAmBV,QAAQ,CAAG,OAAH,CAAR;YAAoB,CAA9D;YAAgE,SAAS,EAAC,KAA1E;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAVJ;QAAA;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QAFA,eAkBA,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAlBA;EAAA,gBADJ;AAsBH,CAhDM;;GAAML,Q;UAGUN,S,EACFC,W;;;KAJRK,Q"},"metadata":{},"sourceType":"module"}