{"ast":null,"code":"const request = async (method, url, data) => {\n  try {\n    const user = localStorage.getItem('auth');\n    const auth = JSON.parse(user || '{}');\n    let headers = {};\n\n    if (auth.accessToken) {\n      headers['X-Authorization'] = auth.accessToken;\n    }\n\n    let buildRequest;\n\n    if (method === 'GET') {\n      buildRequest = fetch(url, {\n        headers\n      });\n    } else {\n      buildRequest = fetch(url, {\n        method,\n        headers: { ...headers,\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n    }\n\n    const response = await buildRequest;\n    console.log(response);\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const get = request.bind({}, 'GET');\nexport const post = request.bind({}, 'POST');\nexport const patch = request.bind({}, 'PATCH');\nexport const put = request.bind({}, 'PUT');\nexport const del = request.bind({}, 'DELETE');","map":{"version":3,"names":["request","method","url","data","user","localStorage","getItem","auth","JSON","parse","headers","accessToken","buildRequest","fetch","body","stringify","response","console","log","result","json","error","get","bind","post","patch","put","del"],"sources":["/Users/yankogeorgiev/GitHub/ReactSoftuni/project/src/services/requester.js"],"sourcesContent":["const request = async (method, url, data) => {\n    try {\n        const user = localStorage.getItem('auth');\n        const auth = JSON.parse(user || '{}');\n\n        let headers = {}\n\n        if (auth.accessToken) {\n            headers['X-Authorization'] = auth.accessToken;\n        }\n\n        let buildRequest;\n\n        if (method === 'GET') {\n            buildRequest = fetch(url, { headers });\n        } else {\n            buildRequest = fetch(url, {\n                method,\n                headers: {\n                    ...headers,\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify(data)\n            });\n        }\n        const response = await buildRequest;\n\n        console.log(response);\n\n        const result = await response.json();\n\n        return result;\n    } catch (error) {\n        console.log(error);\n    }\n};\n\nexport const get = request.bind({}, 'GET');\nexport const post = request.bind({}, 'POST');\nexport const patch = request.bind({}, 'PATCH');\nexport const put = request.bind({}, 'PUT');\nexport const del = request.bind({}, 'DELETE');\n"],"mappings":"AAAA,MAAMA,OAAO,GAAG,OAAOC,MAAP,EAAeC,GAAf,EAAoBC,IAApB,KAA6B;EACzC,IAAI;IACA,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAb;IACA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAI,IAAI,IAAnB,CAAb;IAEA,IAAIM,OAAO,GAAG,EAAd;;IAEA,IAAIH,IAAI,CAACI,WAAT,EAAsB;MAClBD,OAAO,CAAC,iBAAD,CAAP,GAA6BH,IAAI,CAACI,WAAlC;IACH;;IAED,IAAIC,YAAJ;;IAEA,IAAIX,MAAM,KAAK,KAAf,EAAsB;MAClBW,YAAY,GAAGC,KAAK,CAACX,GAAD,EAAM;QAAEQ;MAAF,CAAN,CAApB;IACH,CAFD,MAEO;MACHE,YAAY,GAAGC,KAAK,CAACX,GAAD,EAAM;QACtBD,MADsB;QAEtBS,OAAO,EAAE,EACL,GAAGA,OADE;UAEL,gBAAgB;QAFX,CAFa;QAMtBI,IAAI,EAAEN,IAAI,CAACO,SAAL,CAAeZ,IAAf;MANgB,CAAN,CAApB;IAQH;;IACD,MAAMa,QAAQ,GAAG,MAAMJ,YAAvB;IAEAK,OAAO,CAACC,GAAR,CAAYF,QAAZ;IAEA,MAAMG,MAAM,GAAG,MAAMH,QAAQ,CAACI,IAAT,EAArB;IAEA,OAAOD,MAAP;EACH,CA/BD,CA+BE,OAAOE,KAAP,EAAc;IACZJ,OAAO,CAACC,GAAR,CAAYG,KAAZ;EACH;AACJ,CAnCD;;AAqCA,OAAO,MAAMC,GAAG,GAAGtB,OAAO,CAACuB,IAAR,CAAa,EAAb,EAAiB,KAAjB,CAAZ;AACP,OAAO,MAAMC,IAAI,GAAGxB,OAAO,CAACuB,IAAR,CAAa,EAAb,EAAiB,MAAjB,CAAb;AACP,OAAO,MAAME,KAAK,GAAGzB,OAAO,CAACuB,IAAR,CAAa,EAAb,EAAiB,OAAjB,CAAd;AACP,OAAO,MAAMG,GAAG,GAAG1B,OAAO,CAACuB,IAAR,CAAa,EAAb,EAAiB,KAAjB,CAAZ;AACP,OAAO,MAAMI,GAAG,GAAG3B,OAAO,CAACuB,IAAR,CAAa,EAAb,EAAiB,QAAjB,CAAZ"},"metadata":{},"sourceType":"module"}